"use strict";(self.webpackChunkcar_ffeine=self.webpackChunkcar_ffeine||[]).push([[7346],{3905:(e,n,t)=>{t.d(n,{Zo:()=>s,kt:()=>d});var l=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,l,a=function(e,n){if(null==e)return{};var t,l,a={},r=Object.keys(e);for(l=0;l<r.length;l++)t=r[l],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)t=r[l],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var i=l.createContext({}),c=function(e){var n=l.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},s=function(e){var n=c(e.components);return l.createElement(i.Provider,{value:n},e.children)},k="mdxType",g={inlineCode:"code",wrapper:function(e){var n=e.children;return l.createElement(l.Fragment,{},n)}},u=l.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),k=c(t),u=a,d=k["".concat(i,".").concat(u)]||k[u]||g[u]||r;return t?l.createElement(d,p(p({ref:n},s),{},{components:t})):l.createElement(d,p({ref:n},s))}));function d(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,p=new Array(r);p[0]=u;var o={};for(var i in n)hasOwnProperty.call(n,i)&&(o[i]=n[i]);o.originalType=e,o[k]="string"==typeof e?e:a,p[1]=o;for(var c=2;c<r;c++)p[c]=t[c];return l.createElement.apply(null,p)}return l.createElement.apply(null,t)}u.displayName="MDXCreateElement"},4105:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>p,default:()=>g,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var l=t(7462),a=(t(7294),t(3905));const r={slug:8,title:"\uc2a4\ud504\ub9c1\uc5d0\uc11c \ubc1c\uc0dd\ud55c \uc5d0\ub7ec \ub85c\uadf8\ub97c \uc2ac\ub799\uc73c\ub85c \ubaa8\ub2c8\ud130\ub9c1\ud558\ub294 \ubc29\ubc95",authors:["nunu"],tags:["spring","slack","error"]},p=void 0,o={permalink:"/8",source:"@site/blog/2023-07-07-error-slack-notification.mdx",title:"\uc2a4\ud504\ub9c1\uc5d0\uc11c \ubc1c\uc0dd\ud55c \uc5d0\ub7ec \ub85c\uadf8\ub97c \uc2ac\ub799\uc73c\ub85c \ubaa8\ub2c8\ud130\ub9c1\ud558\ub294 \ubc29\ubc95",description:"\uc548\ub155\ud558\uc138\uc694 \uce74\ud398\uc778\ud300 nunu\uc785\ub2c8\ub2e4.",date:"2023-07-07T00:00:00.000Z",formattedDate:"2023\ub144 7\uc6d4 7\uc77c",tags:[{label:"spring",permalink:"/tags/spring"},{label:"slack",permalink:"/tags/slack"},{label:"error",permalink:"/tags/error"}],readingTime:11.83,hasTruncateMarker:!1,authors:[{name:"\ub204\ub204",title:"Backend",url:"https://github.com/be-student",imageURL:"https://github.com/be-student.png",key:"nunu"}],frontMatter:{slug:"8",title:"\uc2a4\ud504\ub9c1\uc5d0\uc11c \ubc1c\uc0dd\ud55c \uc5d0\ub7ec \ub85c\uadf8\ub97c \uc2ac\ub799\uc73c\ub85c \ubaa8\ub2c8\ud130\ub9c1\ud558\ub294 \ubc29\ubc95",authors:["nunu"],tags:["spring","slack","error"]},prevItem:{title:"Pull Request \uc2dc \uc790\ub3d9\uc73c\ub85c test \uc2e4\ud589\ud558\uae30",permalink:"/9"},nextItem:{title:"\uae43 \ucee4\ubc0b \uba54\uc2dc\uc9c0\uc5d0 \uc774\uc288 \ubc88\ud638\ub97c \uc790\ub3d9\uc73c\ub85c \uc785\ub825\ud560 \uc21c \uc5c6\uc744\uae4c?",permalink:"/7"}},i={authorsImageUrls:[void 0]},c=[{value:"\uc2a4\ud504\ub9c1\uc5d0\uc11c \ub85c\uadf8\ub294 \uc5b4\ub5bb\uac8c \ucc0d\uc744\uae4c?",id:"\uc2a4\ud504\ub9c1\uc5d0\uc11c-\ub85c\uadf8\ub294-\uc5b4\ub5bb\uac8c-\ucc0d\uc744\uae4c",level:2},{value:"\uc2a4\ud504\ub9c1\uc5d0\uc11c \ub85c\uae45\uc740 \uc5b4\ub5bb\uac8c \uc791\ub3d9\ud558\ub294 \uac70\uc9c0?",id:"\uc2a4\ud504\ub9c1\uc5d0\uc11c-\ub85c\uae45\uc740-\uc5b4\ub5bb\uac8c-\uc791\ub3d9\ud558\ub294-\uac70\uc9c0",level:2},{value:"Slf4 j\uc5d0 \ub300\ud574\uc11c \uc54c\uc544\ubcf4\uc790",id:"slf4-j\uc5d0-\ub300\ud574\uc11c-\uc54c\uc544\ubcf4\uc790",level:2},{value:"\uc870\uae08 \ub354 \uc790\uc138\ud55c \ub3d9\uc791 \uc6d0\ub9ac\ub97c \uc54c\uc544\ubcf4\uc790",id:"\uc870\uae08-\ub354-\uc790\uc138\ud55c-\ub3d9\uc791-\uc6d0\ub9ac\ub97c-\uc54c\uc544\ubcf4\uc790",level:3},{value:"Logback\uc5d0 \ub300\ud574\uc11c \uc54c\uc544\ubcf4\uc790",id:"logback\uc5d0-\ub300\ud574\uc11c-\uc54c\uc544\ubcf4\uc790",level:2},{value:"\ub85c\uadf8\ubc31\uc758 \uad6c\uc131\uc694\uc18c",id:"\ub85c\uadf8\ubc31\uc758-\uad6c\uc131\uc694\uc18c",level:2},{value:"Appender",id:"appender",level:3},{value:"Layout",id:"layout",level:3},{value:"Encoder",id:"encoder",level:3},{value:"Filter",id:"filter",level:3},{value:"\uc2ac\ub799\uc5d0 \ucd94\uac00\ud558\ub294 \ubc29\ubc95",id:"\uc2ac\ub799\uc5d0-\ucd94\uac00\ud558\ub294-\ubc29\ubc95",level:2},{value:"\uc2e4\uc81c \uad6c\ud604",id:"\uc2e4\uc81c-\uad6c\ud604",level:2},{value:"SlackAppender \uad6c\ud604\ud558\uae30",id:"slackappender-\uad6c\ud604\ud558\uae30",level:3},{value:"\uacb0\ub860",id:"\uacb0\ub860",level:2}],s={toc:c},k="wrapper";function g(e){let{components:n,...t}=e;return(0,a.kt)(k,(0,l.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"\uc548\ub155\ud558\uc138\uc694 \uce74\ud398\uc778\ud300 nunu\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc624\ub298\uc740 \uc2a4\ud504\ub9c1\uc5d0\uc11c \ubc1c\uc0dd\ud55c \uc5d0\ub7ec \ub85c\uadf8\ub97c \uc2ac\ub799\uc73c\ub85c \ubaa8\ub2c8\ud130\ub9c1\ud558\ub294 \ubc29\ubc95\uc5d0 \ub300\ud574\uc11c \uc54c\uc544\ubcf4\ub824\uace0 \ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ubaa9\ucc28\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\uc2a4\ud504\ub9c1\uc5d0\uc11c \ub85c\uadf8\ub97c \ub0a8\uae30\ub294 \ubc29\ubc95"),(0,a.kt)("li",{parentName:"ol"},"Slf4 j\uc758 \ub3d9\uc791\uc6d0\ub9ac"),(0,a.kt)("li",{parentName:"ol"},"Logback\uc758 \ub3d9\uc791\uc6d0\ub9ac"),(0,a.kt)("li",{parentName:"ol"},"Logback\uc744 \uc0ac\uc6a9\ud574\uc11c \uc2ac\ub799\uc73c\ub85c \uc5d0\ub7ec \ub85c\uadf8\ub97c \ubaa8\ub2c8\ud130\ub9c1\ud558\ub294 \ubc29\ubc95")),(0,a.kt)("h2",{id:"\uc2a4\ud504\ub9c1\uc5d0\uc11c-\ub85c\uadf8\ub294-\uc5b4\ub5bb\uac8c-\ucc0d\uc744\uae4c"},"\uc2a4\ud504\ub9c1\uc5d0\uc11c \ub85c\uadf8\ub294 \uc5b4\ub5bb\uac8c \ucc0d\uc744\uae4c?"),(0,a.kt)("p",null,"\uc2a4\ud504\ub9c1\uc5d0\uc11c \ub85c\uadf8\ub97c \ucc0d\ub294 \ubc29\ubc95\uc740 \uc5ec\ub7ec \uac00\uc9c0\uac00 \uc788\uc9c0\ub9cc, \uac00\uc7a5 \uac04\ub2e8\ud55c \ubc29\ubc95\uc740 ",(0,a.kt)("inlineCode",{parentName:"p"},"System.out.println()"),"\uc744 \uc0ac\uc6a9\ud558\ub294 \uac83\uc785\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'@RestController\npublic class TestController {\n\n    @GetMapping("/test")\n    public String test() {\n        System.out.println("test");\n        return "test";\n    }\n}\n')),(0,a.kt)("p",null,"\ub2f9\uc5f0\ud558\uc9c0\ub9cc, \uc131\ub2a5\uc774 \uc548 \uc88b\uc544\uc11c \uc2e4\uc81c \uc11c\ube44\uc2a4\uc5d0\uc11c\ub294 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc2a4\ud504\ub9c1\uc5d0\uc11c\ub294 Slf4 j\ub97c \ud1b5\ud574\uc11c \ub85c\uadf8\ub97c \ub0a8\uae38 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'@Slf4j // private final Logger log = LoggerFactory.getLogger(this.getClass()); \uc640 \uac19\ub2e4.\n@RestController\npublic class TestController {\n\n    @GetMapping("/test")\n    public String test() {\n        log.info("test");\n        return "test";\n    }\n}\n')),(0,a.kt)("p",null,"\uc774 \ucf54\ub4dc\ub97c \ud1b5\ud574\uc11c \ub85c\uadf8\ub97c \ub0a8\uae38 \uc218 \uc788\ub294\ub370, \uc790\ub3d9\uc73c\ub85c \ucf58\uc194\uc5d0 \ucd9c\ub825\uc774 \ub429\ub2c8\ub2e4."),(0,a.kt)("h2",{id:"\uc2a4\ud504\ub9c1\uc5d0\uc11c-\ub85c\uae45\uc740-\uc5b4\ub5bb\uac8c-\uc791\ub3d9\ud558\ub294-\uac70\uc9c0"},"\uc2a4\ud504\ub9c1\uc5d0\uc11c \ub85c\uae45\uc740 \uc5b4\ub5bb\uac8c \uc791\ub3d9\ud558\ub294 \uac70\uc9c0?"),(0,a.kt)("p",null,"\uc2a4\ud504\ub9c1 4\uae4c\uc9c0\ub294 ",(0,a.kt)("inlineCode",{parentName:"p"},"Commons Logging"),"\uc744 \uc0ac\uc6a9\ud588\uc5c8\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Commons Logging"),"\uc740 ",(0,a.kt)("inlineCode",{parentName:"p"},"JCL"),"\uc774\ub77c\uace0\ub3c4 \ubd88\ub9ac\uba70, ",(0,a.kt)("inlineCode",{parentName:"p"},"JDK Logging"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"Log4 j,")," ",(0,a.kt)("inlineCode",{parentName:"p"},"Logback")," \ub4f1 \ub2e4\uc591\ud55c \ub85c\uae45 \ud504\ub808\uc784\uc6cc\ud06c\ub97c \uc9c0\uc6d0\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"JCL \uc740 \ub7f0\ud0c0\uc784\uc5d0 \uc5b4\ub5a4 \ub85c\uae45 \ud504\ub808\uc784\uc6cc\ud06c\ub97c \uc0ac\uc6a9\ud560\uc9c0 \uacb0\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ub7f0\ud0c0\uc784\uc5d0 \uc5b4\ub5a4 \ub85c\uae45 \ud504\ub808\uc784\uc6cc\ud06c\ub97c \uc0ac\uc6a9\ud560\uc9c0 \uacb0\uc815\ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \ud074\ub798\uc2a4 \ub85c\ub354\uc5d0\uac8c \uc9c8\uc758\ub97c \ud558\ub294 \ubc29\uc2dd\uc73c\ub85c \uc791\ub3d9\ud558\uac8c \ub418\ub294\ub370"),(0,a.kt)("p",null,"\ud074\ub798\uc2a4 \ub85c\ub354\uc5d0\uac8c \uc9c8\uc758\ub97c \ud588\uc744 \uacbd\uc6b0\uc5d0 \uba87 \uac00\uc9c0 \ubb38\uc81c\uc810\uc774 \uc0dd\uae41\ub2c8\ub2e4"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\ud074\ub798\uc2a4 \ub85c\ub354\uc5d0 \uba85\ud655\ud55c \ud45c\uc900\uc774 \uc5c6\uace0, \ubd80\ubaa8 \uc790\uc2dd \ubaa8\ub378\uc774 \uc788\uc5b4\uc11c, \ud074\ub798\uc2a4 \ub85c\ub354\uc5d0 \ub530\ub77c\uc11c \ub2e4\ub978 \uacb0\uacfc\uac00 \ub098\uc62c \uc218 \uc788\uc2b5\ub2c8\ub2e4. ",(0,a.kt)("a",{parentName:"li",href:"http://articles.qos.ch/classloader.html"},"\ucc38\uace0")),(0,a.kt)("li",{parentName:"ol"},"\ud074\ub798\uc2a4\ub85c\ub354\ub294 gc\uc758 \ub3d9\uc791\uc5d0 \ubc29\ud574\ub97c \uc77c\uc73c\ucf1c\uc11c \uba54\ubaa8\ub9ac \ub204\uc218\ub97c \ubc1c\uc0dd\uc2dc\ud0ac \uc218 \uc788\uc2b5\ub2c8\ub2e4. ",(0,a.kt)("a",{parentName:"li",href:"https://cwiki.apache.org/confluence/display/COMMONS/Logging+UndeployMemoryLeak"},"\ucc38\uace0"))),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"@Slf4j")," \uc5b4\ub178\ud14c\uc774\uc158\uc744 \ubd99\uc774\uba74, \ucef4\ud30c\uc77c \uc2dc\uc810\uc5d0 ",(0,a.kt)("inlineCode",{parentName:"p"},"private final Logger log = LoggerFactory.getLogger(this.getClass());")," \uc640 \uac19\uc740 \ucf54\ub4dc\ub85c \ubcc0\ud658\ub429\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc2a4\ud504\ub9c1 5\uc5d0\uc11c\ub294 Slf4j \uac00 \uc0ac\uc6a9\ud558\ub294 \uac83\ucc98\ub7fc, \ucef4\ud30c\uc77c \ud0c0\uc784\uc5d0 \uc5b4\ub5a4 \ub85c\uae45 \ud504\ub808\uc784\uc6cc\ud06c\ub97c \uc0ac\uc6a9\ud560\uc9c0 \uacb0\uc815\ud558\ub294 \uae30\ub2a5\uc744 \uc791\uc131\ud588\uace0, ",(0,a.kt)("inlineCode",{parentName:"p"},"Commons Logging"),"\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uac8c \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-framework/docs/5.0.0.RC3/spring-framework-reference/overview.html#overview-logging"},"spring 5\uc5d0\uc11c \ubcc0\uacbd\ub418\uc5c8\ub2e4\ub294 \ub9c1\ud06c")),(0,a.kt)("h2",{id:"slf4-j\uc5d0-\ub300\ud574\uc11c-\uc54c\uc544\ubcf4\uc790"},"Slf4 j\uc5d0 \ub300\ud574\uc11c \uc54c\uc544\ubcf4\uc790"),(0,a.kt)("p",null,"Slf4 j\ub294 \ub85c\uae45\uc744 \uc704\ud55c \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc81c\uacf5\ud558\ub294 \ud504\ub808\uc784\uc6cc\ud06c\uc785\ub2c8\ub2e4.(Simple Logging Facade for Java)"),(0,a.kt)("p",null,"\ucef4\ud30c\uc77c \ud0c0\uc784\uc5d0, \uc5b4\ub5a4 \ub85c\uadf8 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \uc0ac\uc6a9\ud560\uc9c0 \uacb0\uc815\ud558\ub294 \uae30\ub2a5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ub85c\uadf8 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \ubc14\uafb8\ub824\uace0 \ud588\uc744 \ub54c, \uae30\uc874 \ucf54\ub4dc\ub294 \ud558\ub098\ub3c4 \uac74\ub4dc\ub9ac\uc9c0 \uc54a\uace0, \ub85c\uadf8 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub9cc \ubc14\uafd4\uc8fc\uba74 \ub418\ub3c4\ub85d \ud574\uc90d\ub2c8\ub2e4."),(0,a.kt)("h3",{id:"\uc870\uae08-\ub354-\uc790\uc138\ud55c-\ub3d9\uc791-\uc6d0\ub9ac\ub97c-\uc54c\uc544\ubcf4\uc790"},"\uc870\uae08 \ub354 \uc790\uc138\ud55c \ub3d9\uc791 \uc6d0\ub9ac\ub97c \uc54c\uc544\ubcf4\uc790"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://blog.kakaocdn.net/dn/lCcTc/btsmBw3OEJz/1njLV283KdUWc9qyppEdak/img.png",alt:"only slf4j"})),(0,a.kt)("p",null,"Slf4 j \ub9cc\uc744 \uc0ac\uc6a9\ud588\uc744 \uacbd\uc6b0 \uc704 \uc0ac\uc9c4 \uac19\uc740 \ud615\ud0dc\ub85c \uc694\uccad\uc774 \ucc98\ub9ac\uac00 \ub429\ub2c8\ub2e4."),(0,a.kt)("p",null,"Slf4 j \ub77c\ub294 \uc778\ud130\ud398\uc774\uc2a4\ub97c \ud1b5\ud574\uc11c \ub85c\uadf8\ub97c \ub0a8\uae30\uace0, \uc5b4\ub5a4 \ub85c\uadf8 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \uc0ac\uc6a9\ud560\uc9c0\ub294 ",(0,a.kt)("inlineCode",{parentName:"p"},"Slf4j binding"),"\uc774\ub77c\ub294 \uac83\uc744 \ud1b5\ud574\uc11c \uacb0\uc815\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Slf4j binding")," \uc740 ",(0,a.kt)("inlineCode",{parentName:"p"},"Slf4j"),"\uc758 \uc778\ud130\ud398\uc774\uc2a4\ub97c \uad6c\ud604\ud558\uace0 \uc788\uc9c0 \uc54a\uc740 \ub77c\uc774\ube0c\ub7ec\ub9ac\uc758 \uad6c\ud604\uccb4\ub97c \uc5f0\uacb0\ud574 \uc8fc\ub294 \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uadf8 \uad6c\ud604\uccb4\ub85c ",(0,a.kt)("inlineCode",{parentName:"p"},"Slf4j-log4 j12-{version}. jar")," \uac19\uc740 \uac83\uc774 \uc788\ub2e4."),(0,a.kt)("p",null,"\uc774\uc640\ub294 \ub2e4\ub974\uac8c Logback \uc740 Slf4 j \ub97c \uad6c\ud604\ud558\uace0 \uc788\uae30\uc5d0, ",(0,a.kt)("inlineCode",{parentName:"p"},"Slf4j binding")," \uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc544\ub3c4 \ub429\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://blog.kakaocdn.net/dn/IYC3k/btsmy0einLF/F0aiMnteJeGB00fkGdBjRK/img.png",alt:"logback example"})),(0,a.kt)("p",null,"\uc704 \uc0ac\uc9c4\ucc98\ub7fc ",(0,a.kt)("inlineCode",{parentName:"p"},"Slf4j binding")," \uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0, ",(0,a.kt)("inlineCode",{parentName:"p"},"Logback")," \ubc14\ub85c \uc0ac\uc6a9\ud558\ub294 \uac83\ub3c4 \uac00\ub2a5\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uadf8\ub807\ub2e4\uba74 Slf4 j\ub97c \ubc14\ub85c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc740 \ucf54\ub4dc\uc5d0\uc11c ",(0,a.kt)("inlineCode",{parentName:"p"},"Slf4j")," \ub97c \uc0ac\uc6a9\ud558\ub824\uba74 \uc5b4\ub5bb\uac8c \ud574\uc57c \ud560\uae4c\uc694?"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://blog.kakaocdn.net/dn/msTPw/btsmziy04VE/sXSOKYvi9yXSoiRmg6mIGk/img.png",alt:"slf4j working principle"})),(0,a.kt)("p",null,"\uc704 \uc0ac\uc9c4\ucc98\ub7fc ",(0,a.kt)("inlineCode",{parentName:"p"},"Slf4j bridge")," \ub97c \ud1b5\ud574\uc11c \uc678\ubd80 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\ucc98\ub7fc \uac08\uc544 \ub07c\uc6b8 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Log4j2")," \ub97c \uc0ac\uc6a9\ud558\ub294 \ucf54\ub4dc\ub97c \uc804\ud600 \ubc14\uafb8\uc9c0 \uc54a\uc544\ub3c4, ",(0,a.kt)("inlineCode",{parentName:"p"},"Bridge")," \uac00 ",(0,a.kt)("inlineCode",{parentName:"p"},"Slf4j")," \ub97c \ud1b5\ud574 ",(0,a.kt)("inlineCode",{parentName:"p"},"Logback"),"\uc73c\ub85c \uc790\uc5f0\uc2a4\ub7fd\uac8c \ub85c\uadf8\ub97c \ub0a8\uae38 \uc218 \uc788\ub3c4\ub85d \ud574\uc90d\ub2c8\ub2e4."),(0,a.kt)("h2",{id:"logback\uc5d0-\ub300\ud574\uc11c-\uc54c\uc544\ubcf4\uc790"},"Logback\uc5d0 \ub300\ud574\uc11c \uc54c\uc544\ubcf4\uc790"),(0,a.kt)("p",null,"Logback \uc740 \uc2a4\ud504\ub9c1\uc5d0\uc11c \uae30\ubcf8\uc73c\ub85c \uc0ac\uc6a9\ub420 \ub9cc\ud07c \uc778\uae30 \uc788\ub294 \ub85c\uadf8 \ub77c\uc774\ube0c\ub7ec\ub9ac\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://logback.qos.ch/manual/images/chapters/architecture/underTheHoodSequence2_small.gif",alt:"logback \ub3d9\uc791 \uacfc\uc815"})),(0,a.kt)("p",null,"\uacf5\uc2dd\ubb38\uc11c\uc5d0\uc11c \uc544\uc8fc \ud575\uc2ec\uc801\uc778 \ub3d9\uc791\uc6d0\ub9ac\ub97c \uc124\uba85\ud574\uc8fc\uace0 \uc788\ub294 \uc0ac\uc9c4\uc774\ub77c\uc11c \uac00\uc838\uc654\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ub108\ubb34 \uc5b4\ub824\uc6cc \ubcf4\uc5ec\uc11c, \uc870\uae08 \uc790\uc138\ud558\uac8c \uac01\uac01\uc758 \uad6c\uc131\uc694\uc18c\uc5d0 \ub300\ud574\uc11c \uc54c\uc544\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4"),(0,a.kt)("p",null,"\uc774\uc5d0 \ub300\ud574 \uc54c\uc544\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4"),(0,a.kt)("h2",{id:"\ub85c\uadf8\ubc31\uc758-\uad6c\uc131\uc694\uc18c"},"\ub85c\uadf8\ubc31\uc758 \uad6c\uc131\uc694\uc18c"),(0,a.kt)("h3",{id:"appender"},"Appender"),(0,a.kt)("p",null,"Appender\ub294 \ub85c\uadf8\ub97c \uc5b4\ub514\uc5d0 \ucd9c\ub825\ud560\uc9c0\ub97c \uacb0\uc815\ud558\ub294 \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc678\ubd80\ub85c\ubd80\ud130 \uc5b4\ub5a4 \ub370\uc774\ud130\ub97c \ubc1b\uc544\uc11c, \uc5b4\ub5a4 \ubc29\uc2dd\uc73c\ub85c \ucc98\ub9ac\ud560\uc9c0\uc5d0 \ub300\ud574\uc11c \uc804\uccb4\uc801\uc73c\ub85c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uae30\ubcf8\uc801\uc73c\ub85c \uc218\ub9ce\uc740 Appender \uac00 \uc81c\uacf5\ub418\uace0 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"ConsoleAppender"),(0,a.kt)("li",{parentName:"ul"},"FileAppender"),(0,a.kt)("li",{parentName:"ul"},"RollingFileAppender"),(0,a.kt)("li",{parentName:"ul"},"AsyncAppender"),(0,a.kt)("li",{parentName:"ul"},"DBAppender"),(0,a.kt)("li",{parentName:"ul"},"SMTPAppender"),(0,a.kt)("li",{parentName:"ul"},"SocketAppender"),(0,a.kt)("li",{parentName:"ul"},"SyslogAppender")),(0,a.kt)("p",null,"\uc800\ud76c\ub294 Slack\uc5d0 \uc54c\ub9bc\uc744 \uc8fc\ub294 \uac83\uc774 \ubaa9\uc801\uc774\uae30 \ub54c\ubb38\uc5d0, SlackAppender\ub97c \uc0ac\uc6a9\ud558\uba74 \ub420 \uac83 \uac19\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ud558\uc9c0\ub9cc SlackAppender\ub294 \uc81c\uacf5\ub418\uace0 \uc788\uc9c0 \uc54a\uae30\uc5d0 \uc9c1\uc811 \uad6c\ud604\uc744 \ud574\uc57c \ud558\ub294\ub370\uc694"),(0,a.kt)("p",null,"\uc774\ub97c \uad6c\ud604\ud588\uc744 \ub54c, Slack API \uac00 \ub05d\ub0a0 \ub54c\uae4c\uc9c0, \uacc4\uc18d \uae30\ub2e4\ub9ac\uace0 \uc788\uc744 \ud544\uc694\uac00 \uc5c6\uae30\uc5d0, AsyncAppender\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc88b\uc744 \uac83 \uac19\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc0ac\uc6a9 \ubc29\ubc95\uc740 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4. xml \uae30\ubc18\uc73c\ub85c \uac00\ub2a5\ud55c\ub370\uc694"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<configuration>\n  <appender name="FILE" class="ch.qos.logback.core.FileAppender">\n    <file>myapp.log</file>\n    <encoder>\n      <pattern>%logger{35} -%kvp -%msg%n</pattern>\n    </encoder>\n  </appender>\n\n  <appender name="ASYNC" class="ch.qos.logback.classic.AsyncAppender">\n    <appender-ref ref="FILE" />\n  </appender>\n\n  <root level="DEBUG">\n    <appender-ref ref="ASYNC" />\n  </root>\n</configuration>\n')),(0,a.kt)("p",null,"\ub9cc\uc57d \uc5ec\uae30\uc5d0 \uc788\ub294 \uae30\ub2a5\ub4e4\ub85c \ubd80\uc871\ud558\ub2e4\uba74, \uc9c1\uc811 Appender \ub97c \uad6c\ud604\ud574\uc11c \uc0ac\uc6a9\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc9c1\uc811 \uad6c\ud604\ud558\ub824\uba74 AppenderBase\ub97c \uc0c1\uc18d\ubc1b\uc544\uc11c \uad6c\ud604\ud558\uba74 \ub429\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc774 \ud074\ub798\uc2a4\ub294 \ud544\uc694\ud55c \ubd80\ubd84\uc774 \ub300\ubd80\ubd84 \uad6c\ud604\ub418\uc5b4 \uc788\uace0, appender \ub9cc \uad6c\ud604\ud558\uba74 \ubc14\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub2f9\uc5f0\ud558\uc9c0\ub9cc \ud544\uc694\ud558\ub2e4\uba74 override \ub3c4 \uac00\ub2a5\ud558\uc8e0"),(0,a.kt)("h3",{id:"layout"},"Layout"),(0,a.kt)("p",null,"Layout \uc740 \ub85c\uadf8\ub97c \uc5b4\ub5a4 \ud615\uc2dd\uc73c\ub85c \ucd9c\ub825\ud560\uc9c0\ub97c \uacb0\uc815\ud558\ub294 \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"Appender\ub294 \ub85c\uadf8\ub97c \uc5b4\ub514\uc5d0 \ucd9c\ub825\ud560\uc9c0\ub97c \uacb0\uc815\ud558\ub294 \uc5ed\ud560\uc744 \ud558\uace0, Layout \uc740 \ub85c\uadf8\ub97c \uc5b4\ub5a4 \ud615\uc2dd\uc73c\ub85c \ucd9c\ub825\ud560\uc9c0\ub97c \uacb0\uc815\ud558\ub294 \uc5ed\ud560\uc744 \ud558\ub3c4\ub85d \ud558\ub294 \uac83\uc774 \uc774\uc0c1\uc801\uc774\uc9c0\ub9cc"),(0,a.kt)("p",null,"Logback \uc740 Appender\uc5d0\uc11c Layout \uc744 \uc9c1\uc811 \uc9c0\uc815\ud560 \uc218 \uc788\ub3c4\ub85d \ud574\uc8fc\uace0 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ub530\ub77c\uc11c, \uc9c1\uc811 Layout \uc744 \ub9cc\ub4e4\uc9c0 \uc54a\uace0, Appender \uc5d0\uc11c \uae30\uc874\uc5d0 \uc774\ubbf8 \uc788\ub294 \ud328\ud134\ub9cc \uc0ac\uc6a9\ud558\ub824\uace0 \ud569\ub2c8\ub2e4"),(0,a.kt)("h3",{id:"encoder"},"Encoder"),(0,a.kt)("p",null,"Encoder\ub294 Layout \uacfc \ube44\uc2b7\ud55c \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"Layout \uc740 \ub85c\uadf8\ub97c \uc5b4\ub5a4 \ud615\uc2dd\uc73c\ub85c \ucd9c\ub825\ud560\uc9c0\ub97c \uacb0\uc815\ud558\ub294 \uc5ed\ud560\uc744 \ud558\uace0, Encoder \ub294 \uc2e4\uc81c byte \ud615\ud0dc\ub85c \ubcc0\ud658\ud558\ub294 \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"Slack\uc758 webhook\uc744 \uc0ac\uc6a9\ud560 \uac83\uc774\uc9c0\ub9cc, AppenderBase\ub97c \uc0ac\uc6a9\ud558\uae30\uc5d0, \uc774\ubc88\uc5d0\ub294 \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),(0,a.kt)("h3",{id:"filter"},"Filter"),(0,a.kt)("p",null,"Filter\ub294 \ub85c\uadf8\ub97c \uc5b4\ub5a4 \uc870\uac74\uc5d0 \ub530\ub77c\uc11c \ucd9c\ub825\ud560\uc9c0\ub97c \uacb0\uc815\ud558\ub294 \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"Filter \ub294 Appender\ub97c \ub4f1\ub85d\ud558\uba70 \uac19\uc774 \ub4f1\ub85d\ud560 \uc218 \uc788\ub294\ub370\uc694"),(0,a.kt)("p",null,"\uc774\ubc88 \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c\ub294 Level \uc774 ERROR \uc774\uc0c1\uc778 \uac83\ub9cc \ucd9c\ub825\ud558\ub3c4\ub85d \ud558\uace0 \uc2f6\uae30\uc5d0, LevelFilter\ub97c \uc0ac\uc6a9\ud558\uba74 \uc88b\uc744 \uac83 \uac19\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<configuration>\n  <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">\n    <filter class="ch.qos.logback.classic.filter.LevelFilter">\n      <level>INFO</level>\n      <onMatch>ACCEPT</onMatch>\n      <onMismatch>DENY</onMismatch>\n    </filter>\n    <encoder>\n      <pattern>\n        %-4relative [%thread] %-5level %logger{30} -%kvp -%msg%n\n      </pattern>\n    </encoder>\n  </appender>\n  <root level="DEBUG">\n    <appender-ref ref="CONSOLE" />\n  </root>\n</configuration>\n')),(0,a.kt)("p",null,"\uc640 \ube44\uc2b7\ud558\uac8c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc5b4 \ubcf4\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uadf8\ub7ec\uba74 \uc2e4\uc81c\ub85c \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c error \ubc1c\uc0dd \uc2dc slack\uc73c\ub85c \uc54c\ub9bc\uc744 \uc8fc\ub294 \uac83\uc744 \uad6c\ud604\ud574 \ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("h2",{id:"\uc2ac\ub799\uc5d0-\ucd94\uac00\ud558\ub294-\ubc29\ubc95"},"\uc2ac\ub799\uc5d0 \ucd94\uac00\ud558\ub294 \ubc29\ubc95"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://velog.io/@king/slack-incoming-webhook"},"\uc774 \ube14\ub85c\uadf8"),"\ub97c \ubcf4\uace0\uc11c \uc791\uc131\ud588\uc2b5\ub2c8\ub2e4"),(0,a.kt)("h2",{id:"\uc2e4\uc81c-\uad6c\ud604"},"\uc2e4\uc81c \uad6c\ud604"),(0,a.kt)("p",null,"\uad6c\ud604\ub41c \uacb0\uacfc\ubb3c\uc740 \uc544\ub798\uc640 \uac19\uc2b5\ub2c8\ub2e4"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://blog.kakaocdn.net/dn/d3z7QG/btsmQCCV69f/NwiyNhQGZOBnKBP2hT8kf0/img.png",alt:"slack appender"})),(0,a.kt)("h3",{id:"slackappender-\uad6c\ud604\ud558\uae30"},"SlackAppender \uad6c\ud604\ud558\uae30"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},'public class SlackAppender extends AppenderBase<ILoggingEvent> {\n\n    @Override\n    protected void append(final ILoggingEvent eventObject) {\n        final var restTemplate = new RestTemplate();\n        final var url = "https://hooks.slack.com/services/";\n        final Map<String, Object> body = createSlackErrorBody(eventObject);\n        restTemplate.postForEntity(url, body, String.class);\n    }\n\n    private Map<String, Object> createSlackErrorBody(final ILoggingEvent eventObject) {\n        final String message = createMessage(eventObject);\n        return Map.of(\n                "attachments", List.of(\n                        Map.of(\n                                "fallback", "\uc694\uccad\uc744 \uc2e4\ud328\ud588\uc5b4\uc694 :cry:",\n                                "color", "#2eb886",\n                                "pretext", "\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc5b4\uc694 \ud655\uc778\ud574\uc8fc\uc138\uc694 :cry:",\n                                "author_name", "car-ffeine",\n                                "text", message,\n                                "fields", List.of(\n                                        Map.of(\n                                                "title", "\uc6b0\uc120\uc21c\uc704",\n                                                "value", "High",\n                                                "short", false\n                                        ),\n                                        Map.of(\n                                                "title", "\uc11c\ubc84 \ud658\uacbd",\n                                                "value", "local",\n                                                "short", false\n                                        )\n                                ),\n                                "ts", eventObject.getTimeStamp()\n                        )\n                )\n        );\n    }\n\n    private String createMessage(final ILoggingEvent eventObject) {\n        final String baseMessage = "\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.\\n";\n        final String pattern = baseMessage + "```%s %s %s [%s] - %s```";\n        final SimpleDateFormat simpleDateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss.SSS");\n        return String.format(pattern,\n                simpleDateFormat.format(eventObject.getTimeStamp()),\n                eventObject.getLevel(),\n                eventObject.getThreadName(),\n                eventObject.getLoggerName(),\n                eventObject.getFormattedMessage());\n    }\n}\n')),(0,a.kt)("p",null,"\uc774 \uacfc\uc815\uc5d0\uc11c url\uc744 \uc9c1\uc811 \uc785\ub825\ud558\uc2dc\uba74 \ub429\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uadf8\ub9ac\uace0, \uc774\ub807\uac8c \ub9cc\ub4e0 SlackAppender\ub97c logback-spring.xml \uc5d0 \ub4f1\ub85d\ud558\uba74 \ub429\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n\n<configuration scan="true" scanPeriod="60 seconds">\n    <include resource="org/springframework/boot/logging/logback/defaults.xml"/>\n    <property name="LOG_FILE" value="${LOG_FILE:-${LOG_PATH:-${LOG_TEMP:-${java.io.tmpdir:-/tmp}}}/spring.log}"/>\n    <include resource="org/springframework/boot/logging/logback/console-appender.xml"/>\n    <include resource="org/springframework/boot/logging/logback/file-appender.xml"/>\n    <root level="INFO">\n        <appender-ref ref="FILE"/>\n        <appender-ref ref="CONSOLE"/>\n    </root>\n    <appender name="SLACK_APPENDER" class="racingcar.SlackAppender">\n    </appender>\n    <appender name="ASYNC_SLACK_APPENDER" class="ch.qos.logback.classic.AsyncAppender">\n        <appender-ref ref="SLACK_APPENDER"/>\n    </appender>\n    <logger name="racingcar" level="ERROR" additivity="true">\n        <appender-ref ref="ASYNC_SLACK_APPENDER"/>\n\n    </logger>\n\n</configuration>\n')),(0,a.kt)("p",null,"\uc774\ub807\uac8c \ud558\uba74, racingcar \ud328\ud0a4\uc9c0\uc5d0\uc11c \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud560 \ub54c\ub9cc slack\uc73c\ub85c \uc54c\ub9bc\uc744 \ubc1b\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("h2",{id:"\uacb0\ub860"},"\uacb0\ub860"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://blog.kakaocdn.net/dn/d3z7QG/btsmQCCV69f/NwiyNhQGZOBnKBP2hT8kf0/img.png",alt:"slack appender"})),(0,a.kt)("p",null,"\uc774\ubc88 \uae00\uc5d0\uc11c\ub294 log \ub808\ubca8\uc5d0 \ub530\ub77c slack \uc73c\ub85c \uc54c\ub9bc\uc744 \ubc1b\ub294 \ubc29\ubc95\uc744 \uc54c\uc544\ubcf4\uc558\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uae34 \uae00\uc744 \uc77d\uc5b4\uc8fc\uc154\uc11c \uac10\uc0ac\ud569\ub2c8\ub2e4"))}g.isMDXComponent=!0}}]);